((self||this)["webpackJsonp@sprinklrjs/chat-web-client"]=(self||this)["webpackJsonp@sprinklrjs/chat-web-client"]||[]).push([[14],{1065:function(e,t,n){"use strict";var r=n(191),c=n(216),a=n.n(c),o=n(230),i=n.n(o),u=n(8),s=n.n(u),l=n(251),d=n.n(l),O=n(50),b=n.n(O),f=n(378),v=n.n(f),p=(n(200),n(704));n(192);var E=function(){return Object(r.useContext)(p.b)},I=n(231),C=n(229);const T=(e,t)=>(d()(s()(e,t))||C.a).startTime||0,_=e=>{let{startTime:t,expectedElapsedTime:n,onTimeout:r}=e;const c=n-(t?Date.now()-t:0);let a;return c>0&&(a=window.setTimeout((()=>{r()}),c)),a};t.a=()=>{const{pagesMetaData:e,currentPageUrl:t}=E(),n=Object(r.useRef)(T(e,t));n.current=T(e,t);const c=Object(r.useRef)({}),o=Object(r.useCallback)(((e,t)=>{const r=I.a.getId(e),o=i()(I.a.getValues(e));return c.current={...c.current,[r]:{timeoutId:_({startTime:n.current,expectedElapsedTime:o,onTimeout:t}),onChangeCallback:t,filterValue:o}},()=>{clearTimeout(s()(c.current,`${r}.timeoutId`)),c.current=a()(c.current,r)}}),[]);v()((()=>{b()(c.current,(e=>{const{timeoutId:t,onChangeCallback:r,filterValue:c}=e;clearTimeout(t),r(),e.timeoutId=_({startTime:n.current,expectedElapsedTime:c,onTimeout:r})}))}),[t]);return{subscribe:o,getValue:Object(r.useCallback)((()=>n.current?Date.now()-n.current:0),[])}}},1169:function(e,t,n){var r=n(125)("length");e.exports=r},1170:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",c="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+c+")"+"?",s="[\\ufe0e\\ufe0f]?",l=s+u+("(?:\\u200d(?:"+[a,o,i].join("|")+")"+s+u+")*"),d="(?:"+[a+r+"?",r,o,i,n].join("|")+")",O=RegExp(c+"(?="+c+")|"+d+l,"g");e.exports=function(e){for(var t=O.lastIndex=0;O.test(e);)++t;return t}},1177:function(e,t,n){var r=n(526),c=n(80),a=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=null==n?0:c(n);return i<0&&(i=a(o+i,0)),r(e,t,i)}},1178:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},203:function(e,t,n){"use strict";var r=n(191),c=n(584);t.a=function(){return Object(r.useContext)(c.a)}},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(191),c=n(216),a=n.n(c),o=n(583);function i(){const e=Object(r.useContext)(o.c);return Object(r.useMemo)((()=>a()(e,"settings")),[e])}},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(191),c=n(372),a=n(197);function o(e){const t=Object(a.c)();return Object(r.useMemo)((()=>Object(c.b)(e,t)),[e,t])}},224:function(e,t,n){"use strict";var r=n(191),c=n(235),a=n.n(c),o=n(5),i=n.n(o),u=n(8),s=n.n(u),l=n(203),d=n(498);t.a=()=>{const{locale:e,language:t}=Object(l.a)();return Object(r.useCallback)(((n,r)=>{const c=s()(n,"langVsTranslatedFieldValues");if(!i()(c))return s()(n,r);let o=s()(c,e)||s()(c,t);return o||(o=a()(c,((e,n)=>Object(d.b)(n)===t))),s()(o,r)||s()(n,r)}),[e,t])}},227:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return O})),n.d(t,"i",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return v}));var r=n(682),c=n.n(r),a=n(242),o=n(316);function i(e){return{type:e?a.b:a.d,payload:{}}}function u(){return{type:a.k,payload:{}}}const s=c()(i,!0);c()(i,!1);function l(){return{type:a.g,payload:{}}}function d(e){return{type:a.l,payload:e}}function O(e,t,n){return{type:a.v,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function b(e,t){return{type:a.w,payload:{userPreferenceKey:e,value:t}}}const f=e=>({type:o.c,payload:e}),v=e=>{let{value:t}=e;return{type:a.s,payload:{value:t}}}},233:function(e,t,n){"use strict";var r=n(191),c=n(218);t.a=()=>{const e=Object(c.a)();return Object(r.useMemo)((()=>e.otherConfigs.settings),[e])}},247:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return O})),n.d(t,"s",(function(){return b})),n.d(t,"p",(function(){return f})),n.d(t,"C",(function(){return v})),n.d(t,"z",(function(){return p})),n.d(t,"B",(function(){return E})),n.d(t,"w",(function(){return I})),n.d(t,"v",(function(){return C})),n.d(t,"t",(function(){return T})),n.d(t,"u",(function(){return _})),n.d(t,"x",(function(){return j})),n.d(t,"y",(function(){return g})),n.d(t,"o",(function(){return h})),n.d(t,"l",(function(){return A})),n.d(t,"n",(function(){return R})),n.d(t,"F",(function(){return S})),n.d(t,"D",(function(){return y})),n.d(t,"E",(function(){return m})),n.d(t,"G",(function(){return L})),n.d(t,"A",(function(){return N})),n.d(t,"k",(function(){return P})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return D})),n.d(t,"q",(function(){return k})),n.d(t,"c",(function(){return x})),n.d(t,"r",(function(){return V})),n.d(t,"m",(function(){return M})),n.d(t,"j",(function(){return w}));var r=n(243),c=n(394),a=n(496),o=n(232);const i=function(){let{shouldFetchNumberOfOpenConversation:e=!1,size:t,cursor:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:{shouldFetchNumberOfOpenConversation:e,size:t,cursor:n},type:r.f}},u=(e,t)=>{let{cursor:n,size:c}=t;return t=>({payload:{conversationId:e,cursor:n,size:c},type:r.l,promise:t})},s=e=>{let{conversationId:t,query:n,faqAttachment:c,locale:a}=e;return e=>({payload:{conversationId:t,query:n,faqAttachment:c,locale:a},type:r.B,promise:e})},l=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:r.i,promise:e})},d=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:r.h,promise:e})},O=e=>({type:r.j,payload:e}),b=e=>t=>({payload:{conversationId:e},type:r.o,promise:t}),f=e=>({type:r.K,payload:{chatMessage:e,conversationId:o.a.getConversationId(e)}}),v=e=>{let{text:t,conversationId:n,sender:c,disableManualResponse:a,inReplyToChatMessageId:o,maskingDetails:i}=e;return{type:r.cb,payload:{text:t,conversationId:n,sender:c,disableManualResponse:a,inReplyToChatMessageId:o,maskingDetails:i}}},p=e=>{let{location:t,conversationId:n,sender:c}=e;return{type:r.E,payload:{location:t,conversationId:n,sender:c}}},E=e=>{let{postback:t,conversationId:n,sender:c,inReplyToChatMessageId:a}=e;return e=>({type:r.bb,payload:{postback:t,conversationId:n,sender:c,inReplyToChatMessageId:a},promise:e})},I=e=>({type:r.A,payload:e}),C=e=>{let{action:t,conversationId:n,callback:o}=e;const i=Object(a.a)(t.actionId,t.attachment),u=Object(a.c)(t);return(e=>({type:r.y,payload:e}))({type:c.c,payload:{contextId:n,actionId:i.externalCallParams,actionPayload:u},callback:o})},T=e=>{let{action:t,conversationId:n}=e;const r=Object(a.a)(t.actionId,t.attachment);return I({type:c.a,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},_=e=>{let{action:t,conversationId:n}=e;const r=Object(a.a)(t.actionId,t.attachment);return I({type:c.b,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},j=e=>{let{id:t,conversationId:n,messageId:r}=e;return I({type:c.f,payload:{id:t,contextId:n,sprMsgId:r}})},g=e=>{let{id:t,conversationId:n,messageId:r}=e;return I({type:c.h,payload:{id:t,contextId:n,sprMsgId:r}})},h=e=>{let{attachment:t,actionId:n}=e;return e=>{const c=Object(a.a)(n,t);return{type:r.T,payload:{url:c.url,target:c.target},promise:e}}},A=e=>{let{attachment:t,actionId:n}=e;return e=>{const c=Object(a.a)(n,t);return{type:r.p,payload:{phoneNumber:c.phoneNumber},promise:e}}},R=e=>{let{surveyUrl:t,shouldReplace:n,conversationId:c}=e;return{type:r.X,payload:{surveyUrl:t,shouldReplace:n,conversationId:c}}},S=()=>({type:r.Z,payload:{}}),y=()=>({type:r.W,payload:{}}),m=()=>({type:r.ab,payload:{}}),L=e=>{let{actionParams:t,conversationId:n,sender:c,appContext:o,applicationConfig:i,inReplyToChatMessageId:u}=e;return e=>({type:r.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(a.b)(t)}),conversationId:n,sender:c,appContext:o,applicationConfig:i,inReplyToChatMessageId:u},promise:e})},N=e=>{let{postback:t,conversationId:n,sender:c,inReplyToChatMessageId:a}=e;return{type:r.U,payload:{postback:t,conversationId:n,sender:c,inReplyToChatMessageId:a}}},P=(e,t)=>n=>({type:r.N,payload:{conversationId:e,appContext:t},promise:n}),U=e=>{let{conversationId:t,externalCaseId:n,isPhone:c}=e;return{type:r.v,payload:{conversationId:t,externalCaseId:n,isPhone:c}}},D=(e,t,n,c)=>({type:r.s,payload:{conversationId:t,caseId:e,context:n,isPhone:c}}),k=(e,t)=>({type:r.G,payload:{chatMessage:e,conversationId:o.a.getConversationId(e),alternateUserIds:t}}),x=(e,t)=>n=>({type:r.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}),V=(e,t)=>({type:r.H,payload:{chatMessageId:t,conversationId:e}});function M(e,t){return{type:r.R,payload:{conversationId:e,lastReadMessageId:t}}}function w(){return{type:r.C,payload:{}}}},253:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(191),c=n(891);function a(){return Object(r.useContext)(c.a)}},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return O}));var r=n(191),c=n.n(r),a=n(217),o=n.n(a),i=n(879),u=n.n(i),s=n(192);const l={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},d=c.a.createContext({notification:void 0,setNotification:o.a}),O=e=>{const[t,n]=Object(r.useState)(void 0),c=u()(),a=Object(r.useCallback)((e=>{c()&&n(e)}),[c]),o=Object(r.useMemo)((()=>({notification:t,setNotification:a})),[t,a]);return Object(s.jsx)(d.Provider,{value:o},e.children)};t.c=d},283:function(e,t,n){"use strict";var r=n(191),c=n(269);t.a=function(){return Object(r.useContext)(c.c)}},295:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));const r=/^https?:\/\//i,c=e=>e.match(r)?e:`https://${e}`,a=e=>`tel:${e}`,o=e=>e.map((e=>`${e.key}=${e.value}`)).join("&"),i=e=>!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www")),u=(e,t)=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.set(e.key,e.value)})),n.toString()},s=e=>{const t=null===e||void 0===e?void 0:e.substring(1);return t?t.split("&").reduce((function(e,t){const[n,r]=t.split("="),c=decodeURIComponent(r);return e[n]=c,e}),{}):{}}},319:function(e,t,n){"use strict";n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return A})),n.d(t,"e",(function(){return R})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return m})),n.d(t,"d",(function(){return L}));n(31);var r=n(8),c=n.n(r),a=n(235),o=n.n(a),i=n(272),u=n.n(i),s=n(1177),l=n.n(s),d=n(50),O=n.n(d),b=n(500),f=n(317),v=n(212),p=n(215),E=n(356),I=n(330),C=n(49),T=n(0);const _=/^CASE_(\w+)/,j=/^CONVERSATION_(\w+)/,g=e=>e&&!!e.match(j),h=e=>e&&!!e.match(_),A=e=>h(e)?e.match(_)[0].split("_")[1]:void 0;function R(e){let{chatState:t,chatConversationsState:n,customizationSettings:r,getLocaleMessage:a}=e;const o=Object(p.u)(n),i=Object(f.a)(t),s=Object(f.d)(t),l=null===r||void 0===r?void 0:r.maximumOpenConversations,d=c()(l,"limit"),O=Object(p.z)(o),b=!!d&&!u()(O)&&d<=O,v=!!c()(l,"replaceNewConversationButton");let E;return i?E=s:b&&(E=v?void 0:a(l,"label")),{isLocked:i||b,lockReason:E}}const S=(e,t)=>{const n=o()(I.a.getReadStatusList(e),(e=>e.userId===t));return c()(n,"unreadCount",0)},y=e=>{const t=Object(v.c)(e),n=Object(p.u)(t),r=Object(E.b)().location.pathname,c=Object(b.a)(r,{path:"/conversation/:conversationId/:transientId?"});if(!c)return{isConversationPath:!1,conversationId:void 0};const a=null===c||void 0===c?void 0:c.params.conversationId,o=null===c||void 0===c?void 0:c.params.transientId;if("survey"===o)return{isConversationPath:!0,conversationId:a};if("all"===a)return{isConversationPath:!1,conversationId:void 0};if("new"===a)return{isConversationPath:!0,conversationId:o||C.g};if("last"===a){return{isConversationPath:!0,conversationId:Object(p.b)(n)?Object(p.f)(Object(p.A)(t))||C.g:void 0}}if(g(a))return{isConversationPath:!0,conversationId:a};const i=A(a);return h(a)&&i?{isConversationPath:!0,conversationId:Object(p.m)(n,i)}:{isConversationPath:!0,conversationId:a}},m=(e,t)=>-1===l()(Object(p.v)(e),t),L=e=>{const t=e.chatConversations.conversations.byId;let n=e.chatConversations.conversations.ids;if(Object(T.D)()){const{conversationId:t}=y(e);if(!t)return!1;n=[t]}let r=!1;return O()(n,(e=>{if(t[e]&&!t[e].closed&&!t[e].deleted&&t[e].agentAssigned)return r=!0,!1})),r}},331:function(e,t,n){"use strict";t.a={POST_BACK:"POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",CLIENT_ONLY:"CLIENT_ONLY",RUN_GW:"RUN_GW",DIAL:"DIAL",VIDEO_CALL:"VIDEO_CALL",AUDIO_CALL:"AUDIO_CALL",NEW_CONVERSATION:"NEW_CONVERSATION"}},332:function(e,t,n){"use strict";var r=n(191),c=n(197),a=n(215),o=n(205),i=n(247);const u=e=>Object(a.A)(Object(o.c)(e));t.a=()=>{const e=Object(c.c)(),t=Object(c.d)(u),n=t.loaded;return Object(r.useEffect)((()=>{n||e(Object(i.g)())}),[]),t}},338:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(8),c=n.n(r),a=n(1515),o=n(1407),i=n(1492);const u=Object(a.a)("otherConfigs"),s=Object(a.a)("mobileConfigs"),l=Object(a.a)("workQueueId"),d=Object(a.a)("cards"),O=Object(a.a)("partnerId"),b=Object(a.a)("name"),f=Object(a.a)("id"),v=Object(a.a)("accountUserId"),p=Object(a.a)("filter"),E=Object(a.a)("visibilityConfig"),I=Object(a.a)("noDisplayConfig"),C=Object(a.a)("triggerAnimationConfig"),T=Object(a.a)("defaultLocale"),_=Object(a.a)("supportedLocales"),j=Object(a.a)("callConfiguration"),g=Object(a.a)("autoExpireUserSessionTimeInMinutes"),h=Object(a.a)("maximumContentLength"),A=Object(a.a)("attachmentTypes");class R{}R.getCustomizationConfig=Object(o.a)(u),R.getMobileConfig=Object(o.a)(s),R.getWorkQueueId=Object(o.a)(l),R.getCards=Object(o.a)(d),R.getParnterId=Object(o.a)(O),R.getAppId=Object(o.a)(f),R.getAccountUserId=Object(o.a)(v),R.getVisibilityConfigFilter=Object(i.a)(Object(o.a)(p),Object(o.a)(E)),R.getNoDisplayConfigFilter=Object(i.a)(Object(o.a)(p),Object(o.a)(I)),R.getTriggerAnimationConfigFilter=Object(i.a)(Object(o.a)(p),Object(o.a)(C)),R.getDefaultLocale=Object(o.a)(T),R.getSupportedLocales=Object(o.a)(_),R.getAccountDisplayName=Object(o.a)(b),R.getCallConfiguration=Object(o.a)(j),R.getMaximumContentLength=Object(o.a)(h),R.getAttachmentTypes=Object(o.a)(A),R.getAutoExpireUserSessionTimeInMinutes=Object(o.a)(g),R.getAudioCallConfiguration=e=>{const t=R.getCallConfiguration(e);return c()(t,"audioConfig")||e.audioChatConfiguration},R.getVideoCallConfiguration=e=>{const t=R.getCallConfiguration(e);return c()(t,"videoConfig")||e.videoChatConfiguration},R.getCallAccountId=e=>{const t=R.getCallConfiguration(e);return c()(t,"accountId")||e.videoChatProviderAccountId}},351:function(e,t,n){"use strict";var r=n(191),c=n(882),a=n(485),o=n(231);var i=()=>{const{subscribe:e,getValue:t}=Object(a.a)();return{subscribe:Object(r.useCallback)(((t,n)=>{const r=o.a.getId(t);return e(r,n)}),[e]),getValue:t}},u=n(1065),s=n(197),l=n(378),d=n.n(l),O=n(216),b=n.n(O),f=n(48),v=n.n(f),p=n(272),E=n.n(p),I=n(215),C=n(205),T=n(209),_=n(247);const j=e=>Object(I.z)(Object(I.u)(Object(C.c)(e)));var g=()=>{const e=Object(r.useRef)(),t=Object(r.useRef)({}),n=Object(T.a)(_.j),c=Object(s.d)(j);e.current=c,Object(r.useEffect)((()=>{E()(e.current)&&n()}),[]),d()((()=>{v()(t.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(r.useCallback)(((e,n)=>{const r=o.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=b()(t.current,r)}}),[]),getValue:Object(r.useCallback)((()=>e.current),[])}},h=n(332);var A=()=>{const e=Object(r.useRef)(),t=Object(r.useRef)({}),n=Object(h.a)().ids.length;e.current=n,d()((()=>{v()(t.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(r.useCallback)(((e,n)=>{const r=o.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=b()(t.current,r)}}),[]),getValue:Object(r.useCallback)((()=>e.current),[])}},R=n(8),S=n.n(R),y=n(379),m=n(374);var L=()=>{const e=Object(r.useRef)(0),t=Object(y.a)();e.current=m.a.getTimeToAvailability(t);const n=Object(r.useRef)({}),c=Object(r.useCallback)((()=>e.current),[]);return{subscribe:Object(r.useCallback)(((t,r)=>{const c=o.a.getId(t),a=S()(t,"details.timeToBusinessHours");let i,u=-1;return!E()(a)&&a>0?u=a:!E()(e.current)&&e.current>0&&(u=e.current),u>=0&&(i=window.setTimeout(r,u)),n.current={...n.current,[c]:i},()=>{clearTimeout(S()(n.current,`${c}.timeoutId`)),n.current=b()(n.current,c)}}),[]),getValue:c}},N=n(264);var P=()=>{const{device:e}=Object(N.a)(),t=Object(r.useRef)({}),n=Object(r.useRef)(e);n.current=e,d()((()=>{v()(t.current,(e=>{e()}))}),[n.current]);const c=Object(r.useCallback)(((e,n)=>{const r=o.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=b()(t.current,r)}}),[]);return{getValue:Object(r.useCallback)((()=>n.current),[]),subscribe:c}},U=n(303);const D={[U.a.USER_IP_DETAILS_CITY]:"city",[U.a.USER_IP_DETAILS_COUNTRY_LONG]:"countryLong",[U.a.USER_IP_DETAILS_COUNTRY_SHORT]:"countryShort",[U.a.USER_IP_DETAILS_REGION]:"region"};var k=()=>{const e=Object(r.useRef)(),t=Object(y.a)();e.current=m.a.getUserIPDetails(t);const n=Object(r.useRef)({});d()((()=>{v()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(r.useCallback)(((e,t)=>{const r=o.a.getId(e);return n.current={...n.current,[r]:t},()=>{n.current=b()(n.current,r)}}),[]),getValue:Object(r.useCallback)((()=>t=>{var n;const r=o.a.getField(t);return null===(n=e.current)||void 0===n?void 0:n[D[r]]}),[])}},x=n(297),V=n(1),M=n(0);var w=()=>{const e=Object(V.a)(),t=Object(r.useRef)(e.userContext),n=Object(r.useRef)({}),c=Object(r.useCallback)((e=>{t.current=e,v()(n.current,(e=>{e()}))}),[]);Object(r.useEffect)((()=>(Object(M.S)("userContext",c),()=>{Object(M.T)("userContext",c)})),[]);return{subscribe:Object(r.useCallback)(((e,t)=>{const r=e.id;return n.current={...n.current,[r]:t},()=>{n.current=b()(n.current,r)}}),[]),getValue:Object(r.useCallback)((()=>e=>{var n,r;const c=e.field,a=Object(x.b)(c);return null===(n=t.current)||void 0===n||null===(r=n[a])||void 0===r?void 0:r[0]}),[])}},B=n(883),F=n(885),K=n(31),H=n.n(K),W=n(64),G=n.n(W),Y=n(50),$=n.n(Y),z=n(233),X=n(224),Q=n(457),q=n(615),Z=n(319),J=n(353),ee=n(212),te=n(236);const ne="ANY";var re=()=>{const e=Object(h.a)(),t=Object(z.a)(),n=Object(X.a)(),c=Object(s.d)(C.e),a=Object(s.d)(C.c),{isLocked:i}=Object(Z.e)({chatState:c,chatConversationsState:a,customizationSettings:t,getLocaleMessage:n}),u=Object(Q.a)(),l=Object(s.d)(ee.b),d=Object(J.c)(l),O=H()(d),f=Object(q.a)((t=>{if(t===ne)return{[te.c.AUDIO]:u&&O&&(!i||!!Object(I.g)(e,te.c.AUDIO)),[te.c.VIDEO]:u&&O&&(!i||!!Object(I.g)(e,te.c.VIDEO))};const{audioCallEnabled:n,videoCallEnabled:r,closed:c}=e.byId[t]||{},a=!c&&u&&O;return{[te.c.AUDIO]:a&&(null===n||void 0===n||n),[te.c.VIDEO]:a&&(null===r||void 0===r||r)}})),p=Object(r.useRef)({}),E=Object(r.useRef)({}),T=Object(r.useCallback)(((e,t)=>{const n=o.a.getId(e);E.current={...E.current,[n]:t};const{conversationId:r=ne}=o.a.getDetails(e)||{};return p.current[r]=f(r),()=>{E.current=b()(E.current,n)}}),[]),_=Object(r.useCallback)((()=>e=>{const{callTypes:t,conversationId:n=ne}=o.a.getDetails(e)||{},r=null===t||void 0===t?void 0:t.includes(te.c.AUDIO),c=null===t||void 0===t?void 0:t.includes(te.c.VIDEO),{[te.c.AUDIO]:a,[te.c.VIDEO]:i}=p.current[n]||{};return r&&!c?!!a:(c&&!r||!!a)&&!!i}),[]);let j=!1;return $()(p.current,((e,t)=>{const n=f(t);G()(n,e)||(j=!0,p.current[t]=n)})),j&&v()(E.current,(e=>{null===e||void 0===e||e()})),{subscribe:T,getValue:_}},ce=n(217),ae=n.n(ce),oe=n(51),ie=n.n(oe),ue=n(266),se=n(888);const le=new class{constructor(){this.subscribers={},this.filterPoller=void 0,this.visibilitychangeHandler=()=>{var e;if(document.hidden)null===(e=this.filterPoller)||void 0===e||e.stop();else if(Object.keys(this.subscribers).length>0){var t;null===(t=this.filterPoller)||void 0===t||t.start()}},this.startPolling=()=>{var e;window.document.addEventListener("visibilitychange",this.visibilitychangeHandler),null===(e=this.filterPoller)||void 0===e||e.start()},this.stopPolling=()=>{var e;window.document.removeEventListener("visibilitychange",this.visibilitychangeHandler),null===(e=this.filterPoller)||void 0===e||e.stop()},this.subscribe=(e,t)=>{const n=e.id;return this.subscribers[n]={cb:t,filter:{field:e.field,filterType:e.filterType,details:e.details}},1===Object.keys(this.subscribers).length&&this.startPolling(),()=>{delete this.subscribers[n],0===Object.keys(this.subscribers).length&&this.stopPolling()}},this.subscribers={};this.filterPoller=new se.a((async()=>{try{const{data:e}=await ue.a.post("livechat/conversation/process-filters",{filterDetails:Object.keys(this.subscribers).reduce(((e,t)=>(e.push({id:t,filter:this.subscribers[t].filter}),e)),[])},{headers:{"x-chat-auto":!0}});Object.keys(e).forEach((t=>{this.subscribers[t].cb(e[t])}))}catch(e){}}),{pollInterval:12e4})}};var de=Object.freeze(le),Oe=n(889);const be=(()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n}}})(),fe="AVAILABLE_AGENTS",ve="AGENT_OUT_OF_CAPACITY",pe="WORK_QUEUE_WAIT_TIME",Ee={[fe]:e=>{const t=m.a.getNoOfAgentsAvailable(e);return e=>{var n,r;return null!==(n=null===(r=e.details)||void 0===r?void 0:r.noOfAgentsAvailable)&&void 0!==n?n:t}},[ve]:e=>{const t=m.a.getNumberOfPendingCases(e);return e=>{var n,r;return null!==(n=null===(r=e.details)||void 0===r?void 0:r.numberOfPendingCases)&&void 0!==n?n:t}},[pe]:e=>{const t=m.a.getWorkQueueWaitTime(e);return e=>{var n,r;return null!==(n=null===(r=e.details)||void 0===r?void 0:r.estimatedWaitTimeForWorkQueue)&&void 0!==n?n:t}}};var Ie=e=>{const t=Object(y.a)(),n=Ee[e];return(e=>{var t,n;const c=null===(t=Object(z.a)())||void 0===t||null===(n=t.filterPoll)||void 0===n?void 0:n.enable;return Object(Oe.a)({callback:()=>{de.stopPolling()}}),{getValue:Object(r.useCallback)((()=>e=>be.get(e.id)),[]),subscribe:Object(r.useCallback)(((t,n)=>{ie()(be.get(t.id))&&be.set(t.id,e(t));const r=c?de.subscribe(t,(r=>{const c=e({details:r});be.get(t.id)!==c&&(be.set(t.id,c),n())})):ae.a;return()=>{r()}}),[c])}})(Object(r.useMemo)((()=>n(t)),[t]))},Ce=n(52);var Te=()=>{const{getValue:e,subscribe:t}=i(),{getValue:n,subscribe:c}=Object(u.a)(),{getValue:a,subscribe:s}=re(),{getValue:l,subscribe:d}=g(),{getValue:O,subscribe:b}=A(),{getValue:f,subscribe:v}=L(),{getValue:p,subscribe:E}=Ie(fe),{getValue:I,subscribe:C}=Ie(pe),{getValue:T,subscribe:_}=Ie(ve),{getValue:j,subscribe:h}=P(),{getValue:R,subscribe:S}=k(),{getValue:y,subscribe:m}=w(),{getValue:N,subscribe:D}=Object(B.a)(),{getValue:V,subscribe:M}=Object(F.a)();return{getValue:Object(r.useCallback)((()=>({[U.a.CURRENT_URL]:e(),[U.a.TOTAL_TIME_SPENT]:n(),[U.a.IS_CONVERSATION_OPEN]:l(),[U.a.DOES_CONVERSATION_EXIST]:O(),[U.a.AVAILABLE_AGENTS]:p(),[U.a.WORK_QUEUE_WAIT_TIME]:I(),[U.a.AGENT_OUT_OF_CAPACITY]:T(),[U.a.BUSINESS_HOURS]:f(),[U.a.DEVICE_TYPE]:j(),[U.a.USER_IP_DETAILS_CITY]:R(),[U.a.USER_IP_DETAILS_COUNTRY_LONG]:R(),[U.a.USER_IP_DETAILS_COUNTRY_SHORT]:R(),[U.a.USER_IP_DETAILS_REGION]:R(),[U.a.USER_AGENT]:Object(Ce.f)(),[U.a.PROFILE_CUSTOM_FIELD]:y(),[U.a.VERTICAL_PAGE_SCROLL_DEPTH]:N(),[U.a.HORIZONTAL_PAGE_SCROLL_DEPTH]:V(),[U.a.INITIATE_OUTGOING_CALL]:a()})),[e,n,l,O,f,p,I,T,j,R,y,N,V,a]),subscribe:Object(r.useCallback)(((e,n)=>{if(Object(x.e)(o.a.getField(e)))return m(e,n);switch(o.a.getField(e)){case U.a.TOTAL_TIME_SPENT:return c(e,n);case U.a.CURRENT_URL:return t(e,n);case U.a.IS_CONVERSATION_OPEN:return d(e,n);case U.a.DOES_CONVERSATION_EXIST:return b(e,n);case U.a.AVAILABLE_AGENTS:return E(e,n);case U.a.WORK_QUEUE_WAIT_TIME:return C(e,n);case U.a.AGENT_OUT_OF_CAPACITY:return _(e,n);case U.a.BUSINESS_HOURS:return v(e,n);case U.a.DEVICE_TYPE:return h(e,n);case U.a.USER_IP_DETAILS_CITY:case U.a.USER_IP_DETAILS_COUNTRY_LONG:case U.a.USER_IP_DETAILS_COUNTRY_SHORT:case U.a.USER_IP_DETAILS_REGION:return S(e,n);case U.a.VERTICAL_PAGE_SCROLL_DEPTH:return D(e,n);case U.a.HORIZONTAL_PAGE_SCROLL_DEPTH:return M(e,n);case U.a.INITIATE_OUTGOING_CALL:return s(e,n);default:return null}}),[t,c,d,b,v,E,C,_,h,S,m,D,M,s])}},_e=n(229);t.a=(e,t)=>{const{getValue:n,subscribe:a}=Te(),o=Object(r.useCallback)((()=>{var e,r;return{...null!==(e=null===t||void 0===t||null===(r=t._getStaticValueMap)||void 0===r?void 0:r.call(t))&&void 0!==e?e:_e.a,...n()}}),[n,null===t||void 0===t?void 0:t._getStaticValueMap]);return Object(c.a)(e,{...t,getValue:o,subscribe:a})}},375:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={INCORRECT_PAYLOAD:"INCORRECT_PAYLOAD",NETWORK_FAILURE:"NETWORK_FAILURE",CHAT_UNAVAILABLE:"CHAT_UNAVAILABLE"}},392:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));const r=new(n(1053).a)({middlewares:[],getContext:()=>Promise.resolve({})}),c=e=>{r.clone(e)};t.a=r},394:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return O}));const r="CALLBACK_ACTION",c="ACTION_START",a="ACTION_STOP",o="MSG_PUBLISHED",i="PROGRESS_PUBLISHED",u="MSG_PUBLISH",s="EVENT_PUBLISH",l="PROGRESS_PUBLISH",d="SESSION_PROCESS_START",O="SESSION_PROCESS_STOP"},425:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return b}));var r=n(221),c=n(392),a=n(393),o=n.n(a);const i="/livechat/conversation";function u(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return(yield c.a.post(`${i}/chatUsers`,e)).data}))}const s=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield c.a.post(`${i}/chatUser`,o()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext","locale","customUser"]))}));function l(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:r=0}=e;return(yield c.a.post(`/livechat/user/search-users?query=${t}&size=${n}&pageNum=${r}`)).data}))}function d(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:r=0,roleIds:a=[]}=e;return(yield c.a.post("/livechat/user/spy/search-users",{query:t,size:n,pageNum:r,roleIds:a})).data}))}function O(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return(yield c.a.get(`/livechat/user/fetch/${e}`)).data}))}function b(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return(yield c.a.post("/livechat/user/fetch/current-user")).data}))}},455:function(e,t,n){var r=n(1169),c=n(60),a=n(1170);e.exports=function(e){return c(e)?a(e):r(e)}},457:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(218),c=n(614);const a=()=>{const e=Object(r.a)();return Object(c.b)(e)}},458:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0);function c(){return Object(r.y)()}},496:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return h}));var r=n(50),c=n.n(r),a=n(235),o=n.n(a),i=n(331),u=n(208),s=n(535),l=n(394);const d=e=>t=>t.type===e,O=e=>t=>t.id===e,b=(e,t)=>o()(e,t),f=(e,t)=>b(e.buttons,t),v=(e,t)=>f(t,O(e)),p=(e,t)=>{const n=e.cardAttachmentList;let r;return c()(n,(e=>{const n=f(e,t);if(n)return r=n,!1})),r},E=(e,t)=>p(t,O(e)),I={[i.a.POST_BACK]:(e,t)=>{const n=e;return n.makeExternalCall?[l.c,n.postBackHandlerType]:[n.postBackHandlerType]},[i.a.EXTERNAL]:(e,t)=>{const n=t.attachment;if(n.type===u.c.PROGRESS_BAR){return["CANCEL"===t.actionId?l.b:l.a]}return n.type===u.c.FORM?[s.a.FORM_POST_BACK,l.a]:[s.a.TEXT_POST_BACK,l.a]},[i.a.CLIENT_ONLY]:(e,t)=>t.attachment.type===u.c.VIDEO_CHAT?[t.actionId]:t.attachment.type===u.c.APPOINTMENT?"FETCH_SLOTS"===t.values.type?[s.a.FETCH_APPOINTMENT_TIME_SLOTS]:"RESERVE_SLOT"===t.values.type?[s.a.RESERVE_APPOINTMENT_TIME_SLOT]:[s.a.APPOINTMENT_POST_BACK]:[],[i.a.OPEN_URL]:(e,t)=>t.attachment.type===u.c.CO_BROWSE_INVITE?[s.a.OPEN_AGENT_PRESENT_URL]:[s.a.OPEN_URL]},C={[u.c.CONTACT_DETAILS_FORM]:(e,t)=>t.submit,[u.c.FORM]:(e,t)=>t.submit,[u.c.SECURE_FORM]:(e,t)=>t.submit,[u.c.FEEDBACK_FORM]:(e,t)=>t.submit,[u.c.PROGRESS_BAR]:(e,t)=>{const n=t;return{id:"",title:"",type:i.a.EXTERNAL,params:n.action}},[u.c.PERSISTENT_MENU]:(e,t)=>f(t,O(e)),[u.c.CARD]:(e,t)=>f(t,O(e)),[u.c.RICH_TEXT_CAROUSEL]:E,[u.c.PRODUCT_CARD]:(e,t)=>f(t,O(e)),[u.c.PRODUCT_SHOWCASE_CARD]:(e,t)=>f(t,O(e)),[u.c.INFO_CARD]:(e,t)=>f(t,O(e)),[u.c.PRODUCT_BANNER]:(e,t)=>((e,t)=>{if(e.buttons){const n=b(e.buttons,t);if(n)return n}return p(e,t)})(t,O(e)),[u.c.PRODUCT_LIST]:(e,t)=>f(t,O(e)),[u.c.CO_BROWSE_INVITE]:(e,t)=>f(t,O(e)),[u.c.QUICK_SELECT_CARD]:v,[u.c.QUICK_SELECT_PILLS]:v,[u.c.CAROUSEL]:E,[u.c.APPOINTMENT]:()=>({type:i.a.CLIENT_ONLY,id:"",title:""}),[u.c.VIDEO_CHAT]:()=>({type:i.a.CLIENT_ONLY,title:"",id:""}),[u.c.SURVEY]:(e,t)=>t.surveyButton,[u.c.SURVEY_QUESTION]:(e,t)=>f(t,O(e))};function T(e,t){const n=C[t.type];if(n)return n(e,t)}function _(e){const t=T(e.actionId,e.attachment);if(t)return((e,t)=>{const n=I[e.type];return n?n(e,t):[e.type]})(t,e)}const j=e=>{switch(e.type){case u.c.CARD:return!!f(e,d(i.a.EXTERNAL));case u.c.CAROUSEL:return!!p(e,d(i.a.EXTERNAL));case u.c.FORM:return e.submit.type===i.a.EXTERNAL;default:return!1}},g={[u.c.SECURE_FORM]:e=>e.values.originalData},h=e=>{const t=g[e.attachment.type];if(t)return t(e)}},500:function(e,t,n){"use strict";var r=n(887),c=n.n(r),a={},o=0,i=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=a[n]||(a[n]={});if(r[e])return r[e];var i=[],u={re:c()(e,i,t),keys:i};return o<1e4&&(r[e]=u,o++),u};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var r=t,c=r.path,a=r.exact,o=void 0!==a&&a,u=r.strict,s=void 0!==u&&u,l=r.sensitive,d=void 0!==l&&l;if(null==c)return n;var O=i(c,{end:o,strict:s,sensitive:d}),b=O.re,f=O.keys,v=b.exec(e);if(!v)return null;var p=v[0],E=v.slice(1),I=e===p;return o&&!I?null:{path:c,url:"/"===c&&""===p?"/":p,isExact:I,params:f.reduce((function(e,t,n){return e[t.name]=E[n],e}),{})}}},535:function(e,t,n){"use strict";t.a={TEXT_POST_BACK:"TEXT_POST_BACK",START_VIDEO_CALL:"START_VIDEO_CALL",START_AUDIO_CALL:"START_AUDIO_CALL",VIDEO_CALL:"VIDEO_CALL",AUDIO_CALL:"AUDIO_CALL",REJOIN_CALL:"REJOIN_CALL",ACCEPT_CO_BROWSE:"ACCEPT_CO_BROWSE",DENY_CO_BROWSE:"DENY_CO_BROWSE",FORM_POST_BACK:"FORM_POST_BACK",SECURE_FORM_POST_BACK:"SECURE_FORM_POST_BACK",APPOINTMENT_POST_BACK:"APPOINTMENT_POST_BACK",FETCH_APPOINTMENT_TIME_SLOTS:"FETCH_APPOINTMENT_TIME_SLOTS",RESERVE_APPOINTMENT_TIME_SLOT:"RESERVE_APPOINTMENT_TIME_SLOT",LOCATION_POST_BACK:"LOCATION_POST_BACK",CONTACT_DETAILS_POST_BACK:"CONTACT_DETAILS_POST_BACK",FEEDBACK_POST_BACK:"FEEDBACK_POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",SURVEY_QUESTION_POST_BACK:"SURVEY_QUESTION_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",OPEN_AGENT_PRESENT_URL:"OPEN_AGENT_PRESENT_URL",ACCOUNT_LINK:"ACCOUNT_LINK",DIAL:"DIAL",RUN_GW:"RUN_GW"}},583:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return V}));var r=n(200),c=n(191),a=n.n(c),o=n(699),i=n.n(o),u=n(55),s=n.n(u),l=n(31),d=n.n(l),O=n(2),b=n.n(O),f=n(273),v=n.n(f),p=n(48),E=n.n(p),I=n(351),C=n(458),T=n(218),_=n(50),j=n.n(_),g=n(531),h=n.n(g),A=n(8),R=n.n(A),S=n(15),y=n.n(S),m=n(297);const L=e=>e?y()(e,((e,t,n)=>"filters"===n?(e[n]=E()(t,(e=>(null!==e&&void 0!==e&&e.filter&&(e.filter=Object(m.a)(e.filter)),e))),e):(e[n]=L(t),e)),e):e,N=(e,t)=>{const n=[];return j()(e,((e,r)=>{"filters"===r?j()(e,(e=>{let{filter:r,value:c}=e;d()(r)||d()(c)||n.push({field:r.field,filterType:r.fieldType||r.filterType,filters:r.filters,values:r.values,details:{...r.details,path:t,value:c}})})):n.push(...N(e,t?`${t}.${r}`:r))})),n};var P=n(655),U=n(1),D=n(192);const k=a.a.createContext(void 0),x=e=>{let{children:t}=e;const{otherConfigs:n,configFilters:r}=Object(T.a)(),a=!!n.theme.styleFilters,o=Object(c.useMemo)((()=>s()(n.theme,Object(U.a)().theme)),[Object(U.a)().theme]),u=Object(C.a)(),{appFilters:l,adaptedAppFilters:O}=Object(c.useMemo)((()=>{var e;const t=Object(P.b)({legacyStyleFilters:L(null===(e=n.theme)||void 0===e?void 0:e.styleFilters),configFilters:r,skin:u});return{appFilters:t,adaptedAppFilters:b()(t)?E()(t,(e=>e.filter)):N(t,"")}}),[u]),f=Object(I.a)(O),p=Object(c.useMemo)((()=>{const e=b()(l)?l:O,t=v()(e,((e,t)=>f[t].hasPassed));if(!d()(t)){if(a){const e=i()(n);return e.theme.styles=(e=>{let{styles:t,passedStyleFilters:n}=e;const r=i()(t);return j()(n,(e=>{e.details&&h()(r,e.details.path,{...R()(r,e.details.path),...e.details.value})})),r})({styles:o.styles,passedStyleFilters:t}),e}return(e=>{let{otherConfigs:t,passedFilters:n}=e;return n.reduce(((e,t)=>{let{value:n}=t;return s()(e,n)}),i()(t))})({otherConfigs:n,passedFilters:t})}return n}),[n,l,O,o,f]);return Object(D.jsx)(k.Provider,{value:p},t)},V=e=>function(t){return Object(D.jsx)(k.Consumer,null,(n=>Object(D.jsx)(e,Object(r.a)({},t,{customization:n}))))};t.c=k},584:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return ne})),n.d(t,"b",(function(){return te}));var r=n(200),c=n(191),a=n.n(c),o=n(197),i=n(796),u=n(15),s=n.n(u),l=n(8),d=n.n(l),O=n(360),b=n.n(O),f=n(235),v=n.n(f),p=n(217),E=n.n(p),I=n(272),C=n.n(I),T=n(209),_=n(218),j=n(204),g=n(283),h=n(1049),A=n(696),R=n(233),S=n(425),y=n(241),m=n(205),L=n(227),N=n(0),P=n(13),U=n(423),D=n(359),k=n(498),x=n(199),V=n(340),M=n.n(V),w=n(50),B=n.n(w),F=n(1),K=n(9),H=n(305);const W=Object(k.a)(),G=e=>{let{locale:t,reactIntlLocale:n}=e;return H.a[t].numberingSystem?n.concat("-u-nu-",H.a[t].numberingSystem):n};var Y=n(269),$=n(316),z=n(375),X=n(192);const Q=Object(k.a)(),q=[$.f],Z=a.a.createContext({locale:Q,language:Object(k.b)(Q),defaultLocale:Q,direction:H.b.LTR,localeDataLoading:!0,changeLocale:E.a}),J={onLocaleDataLoaded:L.d},ee=e=>v()(((e,t)=>b()(s()(t,((t,n)=>{const r=d()(e,`${n}.actionsToShowByVariant`),c=Object(N.z)();return[...t,...c&&(d()(r,c)||d()(r,P.a))||U.a]}),[]),"type"))(e,["allScreens","homeScreen","conversationScreen"]),{type:D.a.CHANGE_LOCALE}),te=e=>{const t=Object(o.d)(m.h),n=Object(y.c)(t)||{},r=Object(_.a)(),a=Object(j.a)(),u=Object(R.a)(),s=(null===n||void 0===n?void 0:n.locale)||(e=>{const t=(null===e||void 0===e?void 0:e.defaultLocale)||W,n=(null===e||void 0===e?void 0:e.supportedLocales)||[],r=Object(F.a)().locale,c=Object(K.a)(),a=[...n,t],o=r?[r,...c]:c;let i=t;return B()(o,(e=>M()(a,e)?(i=e,!1):M()(a,Object(k.b)(e))?(i=Object(k.b)(e),!1):null)),i})(r),[l,d]=Object(c.useState)({localeDataLoading:!0,localeData:void 0}),O=Object(c.useRef)(!1),{setNotification:b}=Object(g.a)(),{onLocaleDataLoaded:f}=Object(T.a)(J),v=r.defaultLocale||Q,p=null===u||void 0===u?void 0:u.externalLocaleData,{errorNotificationMessage:E,successNotificationMessage:I}=ee(a)||{},L=Object(h.a)({externalLocaleData:p}),N=Object(c.useCallback)((async e=>{let{locale:t,shouldSyncWithBackend:r=!0,userInitiated:c=!0,promise:a}=e;c&&d((e=>({...e,localeDataLoading:!0})));try{const{localeData:e}=await L(t);if(r){if((await Object(S.f)({...n,locale:t})).data.locale===n.locale)throw new Error(z.a.INCORRECT_PAYLOAD);c&&I&&b({message:I,type:Y.a.SUCCESS})}f({locale:t,data:e.messages}),e&&d((t=>({...t,localeData:e}))),null===a||void 0===a||a.resolve({locale:t})}catch(o){r&&c&&E&&b({message:E,type:Y.a.FAILURE}),null===a||void 0===a||a.reject(o.message===z.a.INCORRECT_PAYLOAD?z.a.INCORRECT_PAYLOAD:z.a.NETWORK_FAILURE),Object(x.b)(o)}d((e=>({...e,localeDataLoading:!1})))}),[L,f,I,E,n]),P=Object(c.useCallback)((e=>{const{payload:{locale:t},promise:n}=e;N({locale:t,userInitiated:!1,promise:n})}),[N]);Object(A.a)(q,P),O.current||(O.current=!0,N({locale:s,shouldSyncWithBackend:!1}));const U=Object(c.useMemo)((()=>{var e;const{language:t,direction:n}=Object(h.b)(s);return{...null!==(e=l.localeData)&&void 0!==e?e:{},defaultLocale:v,locale:s,language:t,direction:n,localeDataLoading:l.localeDataLoading,changeLocale:N}}),[v,s,N,l]);return C()(U.reactIntlLocale)?null:Object(X.jsx)(Z.Provider,{value:U},Object(X.jsx)(i.a,{defaultLocale:v,locale:G({locale:U.locale,reactIntlLocale:U.reactIntlLocale}),messages:U.messages},e.children))},ne=e=>function(t){return Object(X.jsx)(Z.Consumer,null,(n=>Object(X.jsx)(e,Object(r.a)({},t,{intlContext:n}))))};Z.Consumer},610:function(e,t,n){var r=n(96),c=n(92),a=n(80),o=4294967295,i=Math.min;e.exports=function(e,t){if((e=a(e))<1||e>9007199254740991)return[];var n=o,u=i(e,o);t=c(t),e-=o;for(var s=r(u,t);++n<e;)t(n);return s}},614:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(291),c=n(1),a=n(295),o=n(338);const i={AMAZON_CHIME:"chime",ZOOM:"zoom"},u=async(e,t)=>{let{isFullScreen:n,isPhone:o,isAudioCall:u,locale:s,appId:l,vendor:d,direction:O}=t;const b=[{key:"auth_token",value:await Object(r.a)(Object(c.a)().appId)},{key:"fs",value:n},{key:"video",value:!u},{key:"device",value:o?"MOBILE":"DESKTOP"},{key:"locale",value:s},{key:"dir",value:O}];return`${`https://meet-prod.sprinklr.com/${l}`}/${e}/${i[d]}?${Object(a.f)(b)}`},s=e=>!!o.a.getCallAccountId(e)},615:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(191),c=n(296);const a=e=>{const t=Object(c.a)(e);return Object(r.useCallback)((function(){return t.current(...arguments)}),[t])}},703:function(e,t,n){var r=n(66),c=n(58),a=n(10),o=n(246),i=n(455);e.exports=function(e){if(null==e)return 0;if(a(e))return o(e)?i(e):e.length;var t=c(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},704:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(191),c=n.n(r),a=n(251),o=n.n(a),i=n(281),u=n.n(i),s=n(703),l=n.n(s),d=n(485),O=n(192);const b=c.a.createContext({}),f=Object(r.memo)((e=>{const{getValue:t,subscribe:n}=Object(d.a)(),c=t(),[a,i]=Object(r.useState)((()=>({pagesMetaData:{[c]:[{startTime:Date.now(),endTime:void 0}]},currentPageUrl:c})));return Object(r.useEffect)((()=>{const e=n("page-context-subscriber",(e=>{let{currentUrl:t,previousUrl:n}=e;i((e=>(e=>{let{prevPageContextValue:t,previousUrl:n,currentUrl:r}=e;const c=Date.now(),a=t.pagesMetaData,i=u()(o()(a[n]),{endTime:{$set:c}});return u()(t,{pagesMetaData:{[n]:{$splice:[[l()(a[n])-1,1,i]]},[r]:{$set:[...a[r]||[],{startTime:c,endTime:void 0}]}},currentPageUrl:{$set:r}})})({prevPageContextValue:e,previousUrl:n,currentUrl:t})))}));return()=>{e()}}),[]),Object(O.jsx)(b.Provider,{value:a},e.children)}));t.b=b},722:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}n.d(t,"a",(function(){return r}))},879:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(191);t.default=function(){var e=r.useRef(!1),t=r.useCallback((function(){return e.current}),[]);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},882:function(e,t,n){"use strict";var r=n(191),c=n(682),a=n.n(c),o=n(2),i=n.n(o),u=n(31),s=n.n(u),l=n(48),d=n.n(l),O=n(290),b=n.n(O),f=n(610),v=n.n(f),p=n(703),E=n.n(p),I=n(110),C=n.n(I),T=n(51),_=n.n(T),j=n(50),g=n.n(j),h=n(64),A=n.n(h),R=n(231),S=n(1042),y=n(262);t.a=(e,t)=>{const n=Object(r.useRef)(!1);n.current=i()(e);const{getValue:c,defaultValue:o=!0,logOnFailure:u=!1,logOnSuccess:l=!1,subscribe:O}=t,f=Object(r.useRef)({}),p=Object(r.useRef)();p.current=Object(r.useMemo)((()=>new Set(d()(b()(e),(e=>{var t;return null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.id})))),[e]);const[I,T]=Object(r.useState)(0),j=Object(r.useRef)([void 0]),h=Object(r.useRef)(null);Object(r.useEffect)((()=>()=>{h.current&&d()(h.current,(e=>e&&e.clear()))}),[]),h.current=Object(r.useMemo)((()=>(f.current&&g()(f.current,((e,t)=>{var n;let{filterAction:r}=e;null!==(n=p.current)&&void 0!==n&&n.has(t)||(null===r||void 0===r||r.clear(),delete f.current[t])})),s()(e)?null:(j.current=n.current?v()(E()(e),C()(void 0)):[],d()(b()(e),((e,t)=>{var n,r;if(_()(e))return null;if(f.current[null===(n=e.details)||void 0===n?void 0:n.id]){var c;const{filterAction:t,filter:n}=f.current[null===(c=e.details)||void 0===c?void 0:c.id];if(A()(n,e))return t;var o;null===t||void 0===t||t.clear(),delete f.current[null===(o=e.details)||void 0===o?void 0:o.id]}const i=e=>{j.current[t]=R.a.getField(e),T((e=>e+1))},u=S.a.createFilterAction(e,{subscribe:(e,t)=>O(e,a()(i,e),t),getFilterBuilder:S.a.createFilterAction});return null!==(r=e.details)&&void 0!==r&&r.id&&(f.current[e.details.id]={filterAction:u,filter:e}),u}))))),[e,O]);const m=Object(r.useMemo)((()=>h.current?d()(h.current,((e,t)=>e?(Object(y.a)(`--- Filter ${t} match start ---`,Date.now()),e.matches(c(),{logOnFailure:u,logOnSuccess:l})):!!o)):[!!o]),[e,c,o,I]);return Object(r.useMemo)((()=>n.current?d()(m,((e,t)=>({hasPassed:e,changeSource:j.current[t]}))):{hasPassed:!!m[0],changeSource:j.current[0]}),[m,j.current])}},883:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(191),c=n(48),a=n.n(c),o=n(216),i=n.n(o),u=n(378),s=n.n(u),l=n(884),d=n(231);const O=()=>{const e=Object(l.b)(l.a.VERTICAL),t=Object(r.useRef)({}),n=Object(r.useRef)(e);n.current=e,s()((()=>{a()(t.current,(e=>{e()}))}),[e.scrollDepth,e.scrollPercent]);const c=Object(r.useCallback)(((e,n)=>{const r=d.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=i()(t.current,r)}}),[]);return{getValue:Object(r.useCallback)((()=>({scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent})),[]),subscribe:c}}},884:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(191),c=n(282),a=n.n(c),o=n(217),i=n.n(o),u=n(9);const s={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},l=e=>{let{clientWindow:t,scrollDirection:n}=e;const r=t.document;let c,a;if(n===s.HORIZONTAL){const e=r.documentElement.scrollWidth;c=r.documentElement.scrollLeft+r.documentElement.clientWidth,a=e?Math.round(c/e*100):100}else{const e=r.documentElement.scrollHeight;c=r.documentElement.scrollTop+r.documentElement.clientHeight,a=e?Math.round(c/e*100):100}return{scrollDepth:c,scrollPercent:a}},d=e=>{const t=Object(u.b)(),[n,c]=Object(r.useState)((()=>(e=>{let{clientWindow:t,scrollDirection:n}=e;return Object(u.c)(t)?l({clientWindow:t,scrollDirection:n}):{scrollDepth:0,scrollPercent:0}})({clientWindow:t,scrollDirection:e})));return Object(r.useEffect)((()=>{if(Object(u.c)(t)){const n=a()((()=>{const n=l({clientWindow:t,scrollDirection:e});c(n)}),1e3);return t.addEventListener("scroll",n),()=>{t.removeEventListener("scroll",n)}}return i.a}),[]),n}},885:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(191),c=n(48),a=n.n(c),o=n(216),i=n.n(o),u=n(378),s=n.n(u),l=n(884),d=n(231);const O=()=>{const e=Object(l.b)(l.a.HORIZONTAL),t=Object(r.useRef)({}),n=Object(r.useRef)(e);n.current=e,s()((()=>{a()(t.current,(e=>{e()}))}),[e.scrollDepth,e.scrollPercent]);const c=Object(r.useCallback)(((e,n)=>{const r=d.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=i()(t.current,r)}}),[]);return{getValue:Object(r.useCallback)((()=>({scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent})),[]),subscribe:c}}},887:function(e,t,n){var r=n(1178);e.exports=b,e.exports.parse=a,e.exports.compile=function(e,t){return i(a(e,t),t)},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=O;var c=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,i="",l=t&&t.delimiter||"/";null!=(n=c.exec(e));){var d=n[0],O=n[1],b=n.index;if(i+=e.slice(o,b),o=b+d.length,O)i+=O[1];else{var f=e[o],v=n[2],p=n[3],E=n[4],I=n[5],C=n[6],T=n[7];i&&(r.push(i),i="");var _=null!=v&&null!=f&&f!==v,j="+"===C||"*"===C,g="?"===C||"*"===C,h=n[2]||l,A=E||I;r.push({name:p||a++,prefix:v||"",delimiter:h,optional:g,repeat:j,partial:_,asterisk:!!T,pattern:A?s(A):T?".*":"[^"+u(h)+"]+?"})}}return o<e.length&&(i+=e.substr(o)),i&&r.push(i),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function i(e,t){for(var n=new Array(e.length),c=0;c<e.length;c++)"object"===typeof e[c]&&(n[c]=new RegExp("^(?:"+e[c].pattern+")$",d(t)));return function(t,c){for(var a="",i=t||{},u=(c||{}).pretty?o:encodeURIComponent,s=0;s<e.length;s++){var l=e[s];if("string"!==typeof l){var d,O=i[l.name];if(null==O){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(O)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(O)+"`");if(0===O.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var b=0;b<O.length;b++){if(d=u(O[b]),!n[s].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===b?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(O).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(O),!n[s].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');a+=l.prefix+d}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function O(e,t,n){r(t)||(n=t||n,t=[]);for(var c=(n=n||{}).strict,a=!1!==n.end,o="",i=0;i<e.length;i++){var s=e[i];if("string"===typeof s)o+=u(s);else{var O=u(s.prefix),b="(?:"+s.pattern+")";t.push(s),s.repeat&&(b+="(?:"+O+b+")*"),o+=b=s.optional?s.partial?O+"("+b+")?":"(?:"+O+"("+b+"))?":O+"("+b+")"}}var f=u(n.delimiter||"/"),v=o.slice(-f.length)===f;return c||(o=(v?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),o+=a?"$":c&&v?"":"(?="+f+"|$)",l(new RegExp("^"+o,d(n)),t)}function b(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],c=0;c<e.length;c++)r.push(b(e[c],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return O(a(e,n),t,n)}(e,t,n)}},888:function(e,t,n){"use strict";t.a=class{constructor(e,t){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.enableBackOff&&(this.interval+=this.baseInterval),this.poll()}))}),this.interval))},this.start=()=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.poll()}))}),0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!e)throw new Error("No poll handler defined");var n;this.handler=(n=e,()=>n().catch((()=>{}))),this.baseInterval=t.pollInterval,this.enableBackOff=t.enableBackOff,this.interval=t.pollInterval,this.timeoutId=void 0,this.isActive=!1}}},889:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(890);const c=/^\/logout$/,a=e=>{let{searchParams:t,callback:n}=e;Object(r.a)({route:c,searchParams:t,callback:n})}},890:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(191),c=n(253),a=n(296);const o=e=>{let{route:t,searchParams:n,callback:o}=e;const i=Object(c.a)(),u=Object(a.a)(o);Object(r.useEffect)((()=>{const e=i.listen((e=>{!t.test(e.pathname)||n&&!e.search.includes(n)||u.current()}));return()=>{e()}}),[])}},891:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(191),c=n.n(r),a=n(192);const o=c.a.createContext(void 0),i=Object(r.memo)((e=>{let{children:t,history:n}=e;const[c,i]=Object(r.useState)(n);return Object(r.useEffect)((()=>{const e=n.listen((()=>{i({...n})}));return()=>e()}),[]),Object(a.jsx)(o.Provider,{value:c},t)}))}}]);